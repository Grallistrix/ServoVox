from langchain_ollama import OllamaEmbeddings
from langchain_chroma import Chroma
import os

embeddings = OllamaEmbeddings(model="mxbai-embed-large")

db_exist =  os.path.exists("./chroma_db")

db = Chroma(
    persist_directory="./chroma_db",
    embedding_function = embeddings    
)

retriever = db.as_retriever(
    search_type="mmr",
    search_kwargs={"k": 15}
    )

